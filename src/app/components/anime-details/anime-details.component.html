<ng-container *ngIf="animeDetails$ | async as anime;else noAnimeFound" class="container">
    
    <div class="wrapper">
        <button routerLink="/" class="back">back</button>
        <h2>{{anime.title}}</h2>
        <div class="section">
            <div class="left">
                <img  src="http://localhost:5068/Poster/{{anime.posterPath}}" alt="img">
            </div>
            <div class="right">
                <h1>Characters</h1>
                <button class="add-character" (click)="toggleAddCharacterForm()">add character</button>
                <div class="characters-container">
                        <ul>
                            <li *ngFor="let character of anime.characters">
                                <img src="http://localhost:5068/Poster/{{character.characterPosterPath}}" width="50" alt="">
                                <p>{{character.characterName}}</p>
                            </li>
                        </ul>
                </div>
                <div class="info">
                    <h3>Info</h3>
                    <p>Number of seasons - ({{anime.duration}})</p>
                    <h3>Description</h3>
                    <p class="description" [innerHTML]="sanitize(anime.overview)"></p>
                    <button class="save">
                        save into collection
                    </button>
                </div>
                

            </div>
        </div>
    </div>
</ng-container>

<div *ngIf="showCharacter">
    <i class="fa fa-times fa-3x"></i>
    <img src="" alt="">
</div>

<div *ngIf="showCharacterForm" class="add-character-container">
    <i class="fa fa-times fa-3x" (click)="toggleAddCharacterForm()"></i>
    <div class="add-wrapper">
    <h1>Add a Character</h1>
    <div class="form">
        <form  
        [formGroup]="characterForm"
        (ngSubmit)="onSubmit()"
        >
            <div class="input-box">
                <label  
                for="characterName">Character name</label>
                <input 
                type="text"
                formControlName="characterName">
            </div>
            <div class="image-box">
                <input 
                type="file"
                (change)="uploadPoster($event)"
                 >
                <div class="image">
                    <img src="{{postPreview}}" alt="">
                </div>
            </div>
            <button class="submit">submit</button>
        </form>
    </div>
</div>
</div>

<ng-template #noAnimeFound>
    <div class=" flex flex-col items-center mt-4">
        <div>
            <h1>No Anime Found</h1>
        </div>
    </div>
    <button routerLink="/">Back To Home</button>
</ng-template>